CXmodel=function(t){this.targetElem=t,this.dataRef="",this.dataType="",this.metaData="",this.settings={draggable:!1,background_interact:!1,background_close:!0},this.getRef=function(){var t=this.targetElem.getAttribute("data-cxmodal-alert");t||(t=this.targetElem.getAttribute("href")),t||(t=this.targetElem.getAttribute("src")),t&&(this.dataRef=t,this.getType())},this.getType=function(){this.dataType="alert";var t=this.dataRef.split(".").pop();"jpg"!=t&&"png"!=t||(this.dataType="image"),"php?e=1"==t&&(this.dataType="ajax"),this.getMeta()},this.getMeta=function(){var t="";"image"==this.dataType&&(t=this.targetElem.getAttribute("title")),this.metaData=t},this.getRef()},CXview={TEMPLATE:'        <div class="cxmodal">            <span class="close">&times;</span>            <div class="cxmodal-content"></div>        </div>',elem:null,init:function(){var t=document.createElement("div");t.innerHTML=CXview.TEMPLATE,t.className="cxmodal-background",document.body.appendChild(t),t.querySelector(".close").addEventListener("click",function(){CXview.close()}),CXview.elem=t},open:function(t){var e=t.currentTarget.modal,a=CXview.getContent(e);document.querySelector(".cxmodal-content").innerHTML=a,t.preventDefault(),CXview.elem.style.display="flex"},close:function(){CXview.elem.style.display="none"},getContent:function(t){if("image"!=t.dataType)return"ajax"==t.dataType?"<h3>AJAX</h3><p>Ej implementerat än så länge...</p>":"alert"==t.dataType?"<h3>ALERT</h3><p>"+t.dataRef+'</p>            <div class="cxmodal-meta"> <button onclick="CXview.close()" type="button">OK</button> </div>':void 0;var e='<img src="'+t.dataRef+'" alt="img">';return t.metaData&&(e+='<div class="cxmodal-meta">'+t.metaData+"</div>"),e}},window.addEventListener("load",CXview.init),CXcontrol={init:function(){var t,e=document.querySelectorAll("[data-cxmodal], [data-cxmodal-alert], [data-cxmodal-confirm]");for(t=0;t<e.length;t++){var a=new CXmodel(e[t]);a&&(e[t].modal=a,e[t].addEventListener("click",CXview.open,!1))}}},window.addEventListener("load",CXcontrol.init);
//# sourceMappingURL=cxmodal.min.js.map